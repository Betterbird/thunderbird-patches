# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1758227619 -7200
# Parent  11f8ed5560fc47932774ea8dd382a57882520bf8
NNN28 - Fix flashing new mail alert window.

diff --git a/mailnews/base/src/MailNotificationManager.sys.mjs b/mailnews/base/src/MailNotificationManager.sys.mjs
--- a/mailnews/base/src/MailNotificationManager.sys.mjs
+++ b/mailnews/base/src/MailNotificationManager.sys.mjs
@@ -485,15 +485,21 @@ export class MailNotificationManager {
     args.appendElement({
       wrappedJSObject: newMsgKeys,
     });
     args.appendElement(this);
-    Services.ww.openWindow(
+    const win = Services.ww.openWindow(
       null,
       "chrome://messenger/content/newmailalert.xhtml",
       "_blank",
       "chrome,dialog,titlebar=no,alert=yes",
       args
     );
+    // Move window off-screen to prevent flashing.
+    win.moveTo(
+      win.screen.availLeft + win.screen.availWidth,
+      win.screen.availTop + win.screen.availHeight
+    );
+
     this._customizedAlertShown = true;
     this._saveNotificationTime(folder, newMsgKeys);
   }
 
