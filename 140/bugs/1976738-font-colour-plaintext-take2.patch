# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1757271187 -7200
# Parent  de37c93be9d4c1360c2cd246d5267f567ea7a3be
Bug 1976738 - Let the background and foreground color customization of the message compose affect also plaintext compositions, take 2.

The original patch doesn't quite cut it, so let's fix it so it also works in dark mode.

diff --git a/mail/components/compose/content/MsgComposeCommands.js b/mail/components/compose/content/MsgComposeCommands.js
--- a/mail/components/compose/content/MsgComposeCommands.js
+++ b/mail/components/compose/content/MsgComposeCommands.js
@@ -11309,11 +11309,11 @@ function loadPlainTextStyle() {
     return;
   }
 
   const editor = GetCurrentEditor();
-  editor.document.documentElement.style.backgroundColor =
+  editor.document.body.style.backgroundColor =
     Services.prefs.getCharPref("msgcompose.background_color", "");
-  editor.document.documentElement.style.color = Services.prefs.getCharPref(
+  editor.document.body.style.color = Services.prefs.getCharPref(
     "msgcompose.text_color",
     ""
   );
 }
