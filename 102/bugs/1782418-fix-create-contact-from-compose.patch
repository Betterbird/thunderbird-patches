
# HG changeset patch
# User Geoff Lankow <geoff@darktrojan.net>
# Date 1662465934 -7200
# Node ID 1185521d6cb50ee3e87bb7a64dcfe4c706448170
# Parent  3dba318433a7266af69ecf8733b26419ab29ba81
Bug 1782418 - Fix "Address Book Contact" menu item in compose window. r=mkmelin

Differential Revision: https://phabricator.services.mozilla.com/D153315

diff --git a/mail/components/compose/content/messengercompose.xhtml b/mail/components/compose/content/messengercompose.xhtml
--- a/mail/components/compose/content/messengercompose.xhtml
+++ b/mail/components/compose/content/messengercompose.xhtml
@@ -895,17 +895,17 @@
                 label="&newMenu.label;" accesskey="&newMenu.accesskey;">
             <menupopup id="menu_NewPopup">
               <menuitem id="menu_NewMessage"
                         label="&newMessage.label;" accesskey="&newMessage.accesskey;"
                         key="key_newMessage" oncommand="goOpenNewMessage(event);"/>
               <menuseparator/>
               <menuitem id="menu_NewContact" label="&newContact.label;"
                         accesskey="&newContact.accesskey;"
-                        oncommand="window.openDialog('chrome://messenger/content/addressbook/abNewCardDialog.xhtml', '', 'chrome,modal,resizable=no,centerscreen');"/>
+                        oncommand="toAddressBook({ action: 'create' });"/>
             </menupopup>
           </menu>
           <menu id="menu_Attach" label="&attachMenu.label;" accesskey="&attachMenu.accesskey;">
             <menupopup id="menu_AttachPopup" onpopupshowing="updateAttachmentItems();">
               <menuitem data-l10n-id="menuitem-attach-files"
                         data-l10n-attrs="acceltext"
                         command="cmd_attachFile"/>
 #ifdef XP_WIN
