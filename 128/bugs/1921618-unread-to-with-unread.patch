# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1727644362 -7200
# Parent  9682048f02039463629b3471bf4ae53ee8d500ab
Bug 1921618 - Fix transition from 'Threads: Unread' to 'Threads: Threads with unread'.

diff --git a/mail/modules/DBViewWrapper.sys.mjs b/mail/modules/DBViewWrapper.sys.mjs
--- a/mail/modules/DBViewWrapper.sys.mjs
+++ b/mail/modules/DBViewWrapper.sys.mjs
@@ -2016,8 +2016,9 @@ DBViewWrapper.prototype = {
     }
     this.beginViewUpdate();
     // all special views imply a threaded view
     this.showThreaded = true;
+    this._viewFlags &= ~Ci.nsMsgViewFlagsType.kUnreadOnly;
     this._specialView = aViewEnum;
     // We clear the search for paranoia/correctness reasons.  However, the UI
     //  layer is currently responsible for making sure these are already zeroed
     //  out.
