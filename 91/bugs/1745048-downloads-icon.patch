# vim: se ft=diff :
# HG changeset patch
# User Richard Marti <richard.marti@gmail.com>
# Date 1639032802 -3600
Bug 1745048 - Relax the security policy to show the file icon in about:downloads. r=mkmelin

diff --git a/mail/components/downloads/content/aboutDownloads.xhtml b/mail/components/downloads/content/aboutDownloads.xhtml
--- a/mail/components/downloads/content/aboutDownloads.xhtml
+++ b/mail/components/downloads/content/aboutDownloads.xhtml
@@ -18,17 +18,17 @@
       xmlns:html="http://www.w3.org/1999/xhtml"
       scrolling="false"
       lightweightthemes="true">
 <head>
   <title>&aboutDownloads.title;</title>
   <script defer="defer" src="chrome://global/content/globalOverlay.js"></script>
   <script defer="defer" src="chrome://global/content/editMenuOverlay.js"></script>
   <script defer="defer" src="chrome://messenger/content/downloads/aboutDownloads.js"></script>
-  <meta http-equiv="Content-Security-Policy" content="default-src chrome:; object-src 'none'; script-src chrome: 'unsafe-inline'" />
+  <meta http-equiv="Content-Security-Policy" content="default-src chrome:; img-src chrome: moz-icon:; object-src 'none'; script-src chrome: 'unsafe-inline'" />
   <link rel="shortcut icon" href="chrome://messenger/skin/downloads/download.svg" />
 </head>
 <html:body xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
   <commandset id="msgDownloadCommands"
               commandupdater="true"
               events="focus,select,contextmenu">
     <command id="msgDownloadsCmd_open"
              oncommand="goDoCommand('msgDownloadsCmd_open')"/>
