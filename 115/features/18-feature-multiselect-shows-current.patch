# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1681077957 -7200
# Parent  b521d301f77e47d016c3e0aa731f0163cd858ef9
Feature: When multiple message are selected, current message is shown.

diff --git a/mail/base/content/about3Pane.js b/mail/base/content/about3Pane.js
--- a/mail/base/content/about3Pane.js
+++ b/mail/base/content/about3Pane.js
@@ -2656,17 +2656,23 @@ var threadPane = {
         messagePane.clearMessage();
         messagePane.clearMessages();
         return;
       case 1:
         let uri = gDBView.getURIForViewIndex(threadTree.selectedIndex);
         messagePane.displayMessage(uri);
         return;
       default:
-        messagePane.displayMessages(gDBView.getSelectedMsgHdrs());
+        if (Services.prefs.getBoolPref("mail.multiselect_message_shows_current", false)) {
+          let uri = gDBView.getURIForViewIndex(threadTree.currentIndex);
+          messagePane.displayMessage(uri);
+          return;
+        } else {
+          messagePane.displayMessages(gDBView.getSelectedMsgHdrs());
+        }
     }
   },
 
   _onDragStart(event) {
     let row = event.target.closest(`tr[is="thread-row"]`);
     if (!row) {
       event.preventDefault();
       return;
