# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1682960163 -7200
# Parent  1e6bfebfffe449d408699e98984682a572312942
Feature: When multiple message are selected, current message is shown.

diff --git a/mail/base/content/about3Pane.js b/mail/base/content/about3Pane.js
--- a/mail/base/content/about3Pane.js
+++ b/mail/base/content/about3Pane.js
@@ -2919,17 +2919,23 @@ var threadPane = {
         messagePane.clearMessage();
         messagePane.clearMessages();
         return;
       case 1:
         let uri = gDBView.getURIForViewIndex(threadTree.selectedIndex);
         messagePane.displayMessage(uri);
         return;
       default:
-        messagePane.displayMessages(gDBView.getSelectedMsgHdrs());
+        if (Services.prefs.getBoolPref("mail.multiselect_message_shows_current", false)) {
+          let uri = gDBView.getURIForViewIndex(threadTree.currentIndex);
+          messagePane.displayMessage(uri);
+          return;
+        } else {
+          messagePane.displayMessages(gDBView.getSelectedMsgHdrs());
+        }
     }
   },
 
   /**
    * Handle threadPane drag events.
    */
   _onDragStart(event) {
     let row = event.target.closest(`tr[is^="thread-"]`);
