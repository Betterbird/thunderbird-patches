# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1724012945 -7200
# Parent  5d50c204b74de36f5dd157b42443b392126bbc64
Misc: Change user agent string, take 2: Add Silicon/Intel for macOS.

diff --git a/mailnews/compose/src/MimeMessage.jsm b/mailnews/compose/src/MimeMessage.jsm
--- a/mailnews/compose/src/MimeMessage.jsm
+++ b/mailnews/compose/src/MimeMessage.jsm
@@ -199,8 +199,14 @@ class MimeMessage {
             os = "Windows";
             break;
           case "macosx":
             os = "macOS";
+            const build = Services.sysinfo.getProperty("build").toLowerCase();
+            if (build.includes("_arm64_")) {
+              os += "/Silicon";
+            } else if (build.includes("_x86_")) {
+              os += "/Intel";
+            }
             break;
           case "linux":
             os = "Linux";
             break;
