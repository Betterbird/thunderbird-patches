# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Date 1699292856 -3600
# Parent  ac6963564728e33402d7262b81453d1be74ba136
Bug 1835548 - Fix counts of collapsed server rows at startup.

diff --git a/mail/base/content/about3Pane.js b/mail/base/content/about3Pane.js
--- a/mail/base/content/about3Pane.js
+++ b/mail/base/content/about3Pane.js
@@ -762,16 +762,18 @@ var folderPane = {
       name: "all",
       active: false,
       canBeCompact: false,
 
       initServer(server) {
         let serverRow = folderPane._createServerRow(this.name, server);
         folderPane._insertInServerOrder(this.containerList, serverRow);
         folderPane._addSubFolders(server.rootFolder, serverRow, this.name);
+        serverRow.updateUnreadMessageCount();
+        serverRow.updateTotalMessageCount();
       },
 
       addFolder(parentFolder, childFolder) {
         FolderTreeProperties.setIsExpanded(childFolder.URI, this.name, true);
         if (
           childFolder.server.hidden ||
           folderPane.getRowForFolder(childFolder, this.name)
         ) {
