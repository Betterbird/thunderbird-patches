# HG changeset patch
# User Martin Giger <martin@humanoids.be>
# Date 1699019257 -3600
# Node ID 551b06f17f246dcd5159e6b098f3e0e576afd03b
# Parent  708ca03cf1516f166fa6ffe53cb9cf5f6f673a32
Bug 1862665 - Fix view menu init error in standalone message window. r=vineet

Differential Revision: https://phabricator.services.mozilla.com/D192582

diff --git a/mail/base/content/mailWindowOverlay.js b/mail/base/content/mailWindowOverlay.js
--- a/mail/base/content/mailWindowOverlay.js
+++ b/mail/base/content/mailWindowOverlay.js
@@ -348,17 +348,17 @@ function view_init(event) {
 
   document.getElementById("viewMessageViewMenu").disabled =
     accountCentralVisible;
 
   document.getElementById("viewMessagesMenu").disabled = accountCentralVisible;
 
   // Hide the "View > Messages" menu item if the user doesn't have the "Views"
   // (aka "Mail Views") toolbar button in the main toolbar. (See bug 1563789.)
-  var viewsToolbarButton = ViewPickerBinding?.isVisible;
+  var viewsToolbarButton = window.ViewPickerBinding?.isVisible;
   document.getElementById("viewMessageViewMenu").hidden = !viewsToolbarButton;
 
   // Initialize the Message Body menuitem
   document.getElementById("viewBodyMenu").hidden = isFeed;
 
   // Initialize the Show Feed Summary menu
   let viewFeedSummary = document.getElementById("viewFeedSummary");
   viewFeedSummary.hidden = !isFeed;
