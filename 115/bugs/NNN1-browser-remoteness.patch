# HG changeset patch
# User Betterbird <betterbird@betterbird.eu>
# Parent  df3fe89a7cb7130824f3b5549f857bf64ca78a92
Bug NNN1 - fix issue when browser's remoteness can't be determined.

diff --git a/mail/modules/MailE10SUtils.jsm b/mail/modules/MailE10SUtils.jsm
--- a/mail/modules/MailE10SUtils.jsm
+++ b/mail/modules/MailE10SUtils.jsm
@@ -68,19 +68,22 @@ var MailE10SUtils = {
    * Force `browser` to be a remote/local browser.
    *
    * @see E10SUtils.jsm for remote types.
    *
    * @param {nsIBrowser} browser
    * @param {string} remoteType
    */
   changeRemoteness(browser, remoteType) {
-    if (browser.remoteType == remoteType) {
-      return;
-    }
+    try {
+      // browser.remoteType can fail. In this case we fall through.
+      if (browser.remoteType == remoteType) {
+        return;
+      }
+    } catch (ex) {}
 
     browser.destroy();
 
     if (remoteType) {
       browser.setAttribute("remote", "true");
       browser.setAttribute("remoteType", remoteType);
     } else {
       browser.setAttribute("remote", "false");
