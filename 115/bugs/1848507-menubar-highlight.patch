# HG changeset patch
# User Richard Marti <richard.marti@gmail.com>
# Date 1692040343 -7200
# Parent  18870a1726b23897f04b5f5ac8a6293a23828a7a
Bug 1848507 - Use our own highlight color on active menu with themes.

diff --git a/mail/themes/shared/mail/messenger.css b/mail/themes/shared/mail/messenger.css
--- a/mail/themes/shared/mail/messenger.css
+++ b/mail/themes/shared/mail/messenger.css
@@ -439,16 +439,27 @@ description.error {
   padding-inline-start: 4px;
 }
 
 menupopup,
 menubar {
   font-size: inherit;
 }
 
+menubar > menu:-moz-lwtheme[_moz-menuactive="true"]:not([disabled="true"]) {
+  background-color: hsla(0, 0%, 0%, 0.12);
+  color: inherit;
+}
+
+@media (prefers-color-scheme: dark) {
+  menubar > menu:-moz-lwtheme[_moz-menuactive="true"]:not([disabled="true"]) {
+    background-color: hsla(0, 0%, 100%, 0.22);
+  }
+}
+
 menulist {
   min-height: 24px;
   margin-block: 4px;
   color: var(--button-text-color);
   border: 1px solid var(--toolbarbutton-hover-bordercolor);
   border-radius: var(--button-border-radius);
   background-color: var(--toolbarbutton-hover-background);
   box-shadow: var(--toolbarbutton-hover-boxshadow);
