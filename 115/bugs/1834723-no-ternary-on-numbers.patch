# HG changeset patch
# User Jorg K <jorgk@jorgk.com>
# Parent  1af8c4d31f8c2ed515a039ef83d87842c6489feb
Bug 1834723 - Avoid use of ternary on numbers which can be zero/falsy.

diff --git a/mail/base/content/about3Pane.js b/mail/base/content/about3Pane.js
--- a/mail/base/content/about3Pane.js
+++ b/mail/base/content/about3Pane.js
@@ -3467,20 +3467,27 @@ var threadPaneHeader = {
       this.folderCount.hidden = true;
       return;
     }
 
     this.folderName.hidden = false;
     this.folderCount.hidden = false;
 
     this.folderName.textContent = gFolder?.name ?? document.title;
+    // Fluent will trigger a MOZ_CRASH if `count` is not supplied.
+    let count = 0;
+    if (gFolder) {
+      count = gFolder.getTotalMessages(false);
+    } else if (gDBView) {
+      count = gDBView.rowCount;
+    }
     document.l10n.setAttributes(
       this.folderCount,
       "thread-pane-folder-message-count",
-      { count: gFolder?.getTotalMessages(false) || gDBView?.rowCount }
+      { count }
     );
     this.updateStatusBar();
   },
 
   /**
    * Update the total message count in the header if the value changed for the
    * currently selected folder.
    *
